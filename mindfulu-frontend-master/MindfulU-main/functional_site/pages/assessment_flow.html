<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MindfulU - Mental Wellness Check-up</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Inter:wght@400;500;700&family=Caveat:wght@400&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link rel="stylesheet" href="../assets/css/styles.css"/>
</head>
<body class="bg-[var(--cream)] text-[#1D2939]">
<div class="relative flex min-h-screen w-full flex-col">
<header class="flex items-center justify-between whitespace-nowrap px-10 py-5 bg-white shadow-sm">
<a class="flex items-center gap-3 text-2xl font-bold text-[var(--purple)]" href="student_dashboard.html">
<span class="material-symbols-outlined text-3xl">self_improvement</span>
            MindfulU
        </a>
<div class="flex items-center gap-6">
<a class="text-base font-medium text-gray-600 hover:text-[var(--purple)] transition-colors" href="wonderkids.html">Home</a>
<a class="text-base font-medium text-gray-600 hover:text-[var(--purple)] transition-colors" href="#">Resources</a>
<a class="text-base font-medium text-gray-600 hover:text-[var(--purple)] transition-colors" href="#">Community</a>
<a class="text-base font-medium text-gray-600 hover:text-[var(--purple)] transition-colors" href="#">Support</a>
<button class="relative rounded-full p-2 text-gray-600 hover:bg-gray-100 hover:text-[var(--purple)] focus:outline-none focus:ring-2 focus:ring-[var(--purple)] focus:ring-offset-2">
<span class="material-symbols-outlined">notifications</span>
</button>
<div class="w-10 h-10 rounded-full bg-cover bg-center" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCDvjN8JUY86wiEnqtzr7XjMgZ2DqK2_WgxBsvP-LXdjUj7rRAM7dvB5J41Hp2LpGza0FeAPL025_9Rbd3kEzmc5LnCw2UHxr9zz259JAYuARzK7qdAxsGR5wFWmPwDTE8Aq4McNU13s_lMnD19dnVd76KJ3dtncEz6Tal2OV1FUdVEbUXVA3NRimuL3vOd4Wy6qo-Vv59AwkKr6Jq5ka6R8YNHCsePlLkHWuWRm7qeN1BkUigbcGYanMv9IVYEGS4WVtBi9txg3zA");'></div>
</div>
</header>
<main class="flex flex-1 items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
<div class="w-full max-w-2xl mx-auto space-y-8">
<div class="text-center">
<h1 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">Mental Wellness Check-up</h1>
<p class="mt-4 text-lg text-gray-600">A quick and private way to check in with yourself.</p>
</div>
<div class="bg-white p-8 rounded-2xl shadow-lg">
<div class="mb-8">
<div class="flex justify-between mb-2">
<p id="qCounter" class="font-medium text-gray-700">Question 1 of 5</p>
<p class="font-caveat text-xl text-gray-500">Your safe space</p>
</div>
<div class="progress"><div id="progressFill"></div></div>
</div>
<h2 id="qText" class="text-2xl font-semibold text-center text-gray-800 mb-8"></h2>
<div id="options" class="grid grid-cols-1 sm:grid-cols-2 gap-4"></div>
<div class="mt-10 flex justify-between items-center">
<button id="btnPrev" class="py-3 px-6 text-base font-semibold text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-400">Previous</button>
<div class="flex items-center gap-2 text-sm text-gray-500">
<span class="material-symbols-outlined text-base">lock</span>
<span>Your responses are confidential.</span>
</div>
<button id="btnNext" class="py-3 px-8 text-base font-semibold text-white bg-[var(--purple)] hover:bg-purple-700 rounded-lg shadow-md transition-all duration-300 ease-in-out focus:outline-none focus:ring-4 focus:ring-purple-300">Next</button>
</div>
</div>
</div>
</main>
</div>

<script>
  const QUESTIONS = [
    'Over the last 2 weeks, how often have you been bothered by feeling down, depressed, or hopeless?',
    'How often have you felt nervous, anxious, or on edge?',
    'How often have you had trouble relaxing?',
    'How often have you felt that you could not stop or control worrying?',
    'How often have you had trouble concentrating on tasks?'
  ];
  const OPTIONS = [
    { label: 'Not at all', score: 0 },
    { label: 'Several days', score: 1 },
    { label: 'More than half the days', score: 2 },
    { label: 'Nearly every day', score: 3 }
  ];

  let current = 0;
  const answers = new Array(QUESTIONS.length).fill(null);

  const elQText = document.getElementById('qText');
  const elOptions = document.getElementById('options');
  const elCounter = document.getElementById('qCounter');
  const elFill = document.getElementById('progressFill');
  const btnNext = document.getElementById('btnNext');
  const btnPrev = document.getElementById('btnPrev');

  function render() {
    elQText.textContent = QUESTIONS[current];
    elCounter.textContent = `Question ${current + 1} of ${QUESTIONS.length}`;
    elFill.style.width = `${((current) / (QUESTIONS.length)) * 100}%`;

    elOptions.innerHTML = '';
    OPTIONS.forEach((opt, idx) => {
      const btn = document.createElement('button');
      btn.className = 'assessment-option' + (answers[current] === idx ? ' selected' : '');
      btn.textContent = opt.label;
      btn.onclick = () => { answers[current] = idx; render(); };
      elOptions.appendChild(btn);
    });

    btnPrev.disabled = current === 0;
    btnPrev.classList.toggle('opacity-50', btnPrev.disabled);
    btnNext.textContent = current === QUESTIONS.length - 1 ? 'Finish' : 'Next';
  }

  btnNext.addEventListener('click', () => {
    if (answers[current] == null) return alert('Please select an option to continue.');
    if (current < QUESTIONS.length - 1) {
      current += 1; render();
    } else {
      const total = answers.reduce((sum, idx) => sum + OPTIONS[idx].score, 0);
      const percent = Math.round((total / (QUESTIONS.length * 3)) * 100);
      const params = new URLSearchParams({ score: percent.toString() });
      window.location.href = `assessment_results.html?${params.toString()}`;
    }
  });
  btnPrev.addEventListener('click', () => { if (current > 0) { current -= 1; render(); } });

  render();
</script>
</body></html>

